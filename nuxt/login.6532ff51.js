import{K as d,o as h,b as f,e as t,a as x,f as p,y as m,u as _,I as v,L as g}from"./entry.2f26497e.js";function y(e){const c=new ArrayBuffer(4);return new DataView(c).setUint32(0,e,!1),c}function w(e){const c=d.exports.lib.WordArray.random(e),o=[];return c.words.forEach(i=>{const a=y(i),r=new Uint8Array(a);for(let n=0;n<4;n++)o.push(r[n])}),o}function b(e){const c="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-._~";let o="";const i=w(e);for(let a=0;a<e;a++){const r=i[a]%c.length;o+=c[r]}return o}function $(e){return b(e)}function S(e){return d.exports.SHA256(e).toString(d.exports.enc.Base64url)}function V(e){if(e||(e=43),e<43||e>128)throw`Expected a length between 43 and 128. Received ${e}.`;const c=$(e),o=S(c);return{code_verifier:c,code_challenge:o}}const k={xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100",viewBox:"0 0 24 24"},z=t("path",{d:"M12 0C5.374 0 0 5.373 0 12c0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23A11.509 11.509 0 0 1 12 5.803c1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576C20.566 21.797 24 17.3 24 12c0-6.627-5.373-12-12-12z"},null,-1),B=[z];function A(e,c){return h(),f("svg",k,B)}const I={render:A},P={"xml:space":"preserve",width:"744.567",height:"223.315",viewBox:"0 0 744.568 223.315",xmlns:"http://www.w3.org/2000/svg"},R=t("path",{d:"M1375.32 945.234c-269.94 160.306-715.199 175.046-972.89 96.836-41.383-12.55-85.141 10.81-97.68 52.19-12.539 41.4 10.797 85.13 52.207 97.71 295.813 89.8 787.553 72.45 1098.313-112.02 37.23-22.09 49.44-70.16 27.37-107.329-22.08-37.215-70.19-49.484-107.32-27.387zm-8.84-237.441c-18.93-30.734-59.11-40.363-89.8-21.504-225.05 138.336-568.223 178.41-834.473 97.594-34.527-10.434-70.996 9.031-81.48 43.496-10.407 34.527 9.07 70.93 43.535 81.43C708.418 1001.1 1086.52 956.398 1345 797.551c30.69-18.899 40.35-59.102 21.48-89.758zm-102.47-228.031c-15.04-24.672-47.18-32.41-71.76-17.371-196.656 120.187-444.176 147.339-735.676 80.75-28.094-6.442-56.086 11.168-62.496 39.25-6.433 28.089 11.102 56.078 39.258 62.488 318.996 72.926 592.634 41.539 813.364-93.34 24.61-15.027 32.36-47.18 17.31-71.777zM879.957 1687.63c-462.492 0-837.434-374.92-837.434-837.415 0-462.535 374.942-837.445 837.434-837.445 462.513 0 837.433 374.91 837.433 837.445 0 462.495-374.92 837.415-837.433 837.415M2320.89 914.539c-144.59 34.481-170.34 58.684-170.34 109.521 0 48.05 45.24 80.37 112.5 80.37 65.2 0 129.84-24.55 197.63-75.09 2.05-1.53 4.62-2.14 7.15-1.74 2.53.38 4.76 1.76 6.25 3.86l70.6 99.52c2.9 4.09 2.11 9.75-1.8 12.88-80.67 64.73-171.51 96.2-277.69 96.2-156.12 0-265.17-93.68-265.17-227.74 0-143.754 94.07-194.648 256.63-233.937 138.36-31.871 161.71-58.567 161.71-106.305 0-52.887-47.22-85.769-123.21-85.769-84.39 0-153.24 28.429-230.25 95.121-1.91 1.64-4.53 2.398-6.95 2.261-2.54-.211-4.87-1.39-6.49-3.339l-79.16-94.211c-3.32-3.911-2.9-9.75.93-13.129 89.61-79.992 199.8-122.25 318.72-122.25 168.23 0 276.94 91.929 276.94 234.199 0 120.238-71.84 186.734-248 229.578m750.73-161.148c0-101.532-62.54-172.379-152.09-172.379-88.53 0-155.31 74.066-155.31 172.379 0 98.297 66.78 172.375 155.31 172.375 88.11 0 152.09-72.477 152.09-172.375zM2949.5 1057.14c-72.92 0-132.73-28.72-182.05-87.57v66.24c0 5.23-4.24 9.49-9.47 9.49h-129.46c-5.23 0-9.46-4.26-9.46-9.49V299.789c0-5.23 4.23-9.488 9.46-9.488h129.46c5.23 0 9.47 4.258 9.47 9.488v232.32c49.33-55.359 109.15-82.398 182.05-82.398 135.49 0 272.65 104.301 272.65 303.68 0 199.422-137.16 303.749-272.65 303.749m624.23-477.191c-92.81 0-162.78 74.571-162.78 173.442 0 99.285 67.55 171.336 160.64 171.336 93.41 0 163.85-74.567 163.85-173.504 0-99.274-68.01-171.274-161.71-171.274zm0 477.191c-174.49 0-311.19-134.363-311.19-305.917 0-169.692 135.76-302.645 309.05-302.645 175.11 0 312.23 133.91 312.23 304.813 0 170.328-136.18 303.749-310.09 303.749m682.71-11.84h-142.47v145.66c0 5.23-4.22 9.48-9.45 9.48h-129.45c-5.24 0-9.5-4.25-9.5-9.48V1045.3h-62.25c-5.22 0-9.43-4.26-9.43-9.49V924.543c0-5.227 4.21-9.484 9.43-9.484h62.25V627.141c0-116.352 57.91-175.34 172.12-175.34 46.44 0 84.97 9.59 121.28 30.179 2.95 1.649 4.79 4.829 4.79 8.211v105.957a9.51 9.51 0 0 1-4.5 8.071c-2.82 1.769-6.33 1.859-9.22.429-24.94-12.546-49.05-18.339-76-18.339-41.53 0-60.07 18.851-60.07 61.121v267.629h142.47c5.23 0 9.44 4.257 9.44 9.484v111.267c0 5.23-4.21 9.49-9.44 9.49m496.37-.57v17.89c0 52.63 20.18 76.1 65.44 76.1 26.99 0 48.67-5.36 72.95-13.46 2.99-.94 6.11-.47 8.54 1.32 2.5 1.79 3.91 4.66 3.91 7.7v109.1c0 4.17-2.68 7.86-6.69 9.08-25.65 7.63-58.47 15.47-107.61 15.47-119.59 0-182.79-67.34-182.79-194.67v-27.4h-62.2c-5.22 0-9.5-4.25-9.5-9.48V924.543c0-5.227 4.28-9.484 9.5-9.484h62.2V470.961c0-5.231 4.22-9.481 9.44-9.481h129.46c5.23 0 9.49 4.25 9.49 9.481v444.098h120.88L5061 471.078c-21.02-46.648-41.69-55.93-69.91-55.93-22.81 0-46.83 6.813-71.39 20.25-2.31 1.274-5.04 1.481-7.54.711-2.47-.879-4.55-2.711-5.6-5.121l-43.88-96.269c-2.09-4.547-.31-9.891 4.07-12.25 45.81-24.809 87.17-35.399 138.27-35.399 95.6 0 148.44 44.539 195.03 164.34l224.61 580.4c1.12 2.92.79 6.21-1 8.81-1.78 2.56-4.65 4.11-7.79 4.11h-134.78c-4.03 0-7.65-2.56-8.97-6.35L5134.05 644l-151.23 394.64c-1.38 3.67-4.91 6.09-8.84 6.09h-221.17m-287.76.57h-129.47c-5.23 0-9.48-4.26-9.48-9.49V470.961c0-5.231 4.25-9.481 9.48-9.481h129.47c5.22 0 9.48 4.25 9.48 9.481v564.849c0 5.23-4.26 9.49-9.48 9.49m-64.08 257.19c-51.28 0-92.91-41.53-92.91-92.81 0-51.32 41.63-92.89 92.91-92.89 51.27 0 92.85 41.57 92.85 92.89 0 51.28-41.58 92.81-92.85 92.81m1139.52-313.377h-23.72v-30.25h23.72c11.84 0 18.91 5.793 18.91 15.133 0 9.84-7.07 15.117-18.91 15.117zm15.38-43.152 25.77-36.086h-21.73l-23.2 33.098h-19.94v-33.098h-18.19v95.645h42.65c22.21 0 36.83-11.372 36.83-30.508 0-15.676-9.06-25.258-22.19-29.051zm-20.2 91.379c-46.67 0-81.99-37.09-81.99-82.527 0-45.407 35.07-82.008 81.51-82.008 46.66 0 82.01 37.07 82.01 82.527 0 45.408-35.09 82.008-81.53 82.008zm-.48-173.649c-51.24 0-91.11 41.153-91.11 91.122 0 49.977 40.39 91.597 91.59 91.597 51.23 0 91.11-41.15 91.11-91.078 0-49.977-40.36-91.641-91.59-91.641",style:{fill:"#fff","fill-opacity":"1","fill-rule":"nonzero",stroke:"none"},transform:"matrix(.13333 0 0 -.13333 -5.67 225.017)"},null,-1),j=[R];function L(e,c){return h(),f("svg",P,j)}const U={render:L},W={class:"flex flex-col items-center justify-between h-full"},C={class:"flex flex-col items-center justify-evenly grow"},M=t("div",null,[t("h1",{class:"flex justify-center text-xl font-bold"},"What Am I Listening To?"),t("h2",{class:"flex justify-center"},"Analyze your listening habits")],-1),E={class:"flex flex-col items-center"},H=t("span",{class:"pl-2 text-[25px]"},"login",-1),T=t("span",{class:"flex items-center"},"Secured by OAuth2.0",-1),J={class:"flex flex-col items-center"},N={href:"https://github.com/konstantinlob/What-am-I-listening-to#readme",class:"bg-purple px-4 py-2 h-min rounded-lg flex flex-row items-center font-bold",target:"_blank"},D=t("span",{class:"pl-2 text-[20px]"},"GitHub repo",-1),G=t("span",{class:"text-center w-full"},[v("Developled by "),t("br"),v(" Benjamin Tallarek, Julius J\xE4nchen, Konstantin Lobmayr, Pascal Heyn, Robin Walter")],-1),O=x({__name:"login",setup(e){localStorage.getItem("auth-token")!==null&&p("/home");const c="20aa48c2719e42c0be5f3b834942f06d",o=["user-read-playback-state","user-modify-playback-state","user-read-currently-playing","user-top-read","user-read-private"];function i(r=15){const n=new Uint8Array(r/2);return window.crypto.getRandomValues(n),Array.from(n,l=>l.toString(16).padStart(2,"0")).join("")}async function a(){const r=g(),n=new URL(r.resolve("/auth").href,window.location.href);localStorage.setItem("redirect-uri",n.toString());const l=i();localStorage.setItem("auth-state",l);const u=V();localStorage.setItem("code-verifier",u.code_verifier);const s=new URL("/authorize","https://accounts.spotify.com/");s.searchParams.append("client_id",c),s.searchParams.append("response_type","code"),s.searchParams.append("redirect_uri",n.toString()),s.searchParams.append("scope",o.join(" ")),s.searchParams.append("state",l),s.searchParams.append("code_challenge_method","S256"),s.searchParams.append("code_challenge",u.code_challenge),p(s.toString(),{external:!0})}return(r,n)=>(h(),f("div",W,[t("div",C,[M,t("div",E,[t("button",{class:"bg-spotify-green px-8 py-4 h-min rounded-lg flex flex-row items-center font-bold",onClick:n[0]||(n[0]=l=>a())},[m(_(U),{class:"h-10 w-auto"}),H]),T])]),t("div",J,[t("a",N,[m(_(I),{class:"h-8 w-auto"}),D]),G])]))}});export{O as default};
